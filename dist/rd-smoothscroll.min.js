(function(b,d,f){var g="ontouchstart"in b,h="MacIntel"===b.navigator.platform||"MacPPC"===b.navigator.platform;b.requestAnimFrame=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){b.setTimeout(a,1E3/60)}}();b.RDSmoothScroll=function(a){this.options=RDSmoothScroll.Defaults;this.animators=[];this.initialize()};RDSmoothScroll.Defaults={friction:.88,step:h?.65:2,minDistance:.1};RDSmoothScroll.Animator=
function(a){var b=a;"html"===a.nodeName.toLowerCase()&&(b=this.scrollableRoot());this.target=a;this.originalTarget=b;this.direction=f;this.lastY=this.targetY=this.currentY=b.scrollTop;this.minY=this.delta=0;this.maxY=f;this.isPlaying=!1;this.speed=0};RDSmoothScroll.Animator.prototype.scrollableRoot=function(){var a=d.documentElement.scrollTop;1<a?--d.documentElement.scrollTop:d.documentElement.scrollTop+=1;if(a===d.documentElement.scrollTop)return d.body;1===Math.abs(d.documentElement.scrollTop-a)&&
(d.documentElement.scrollTop=a);return d.documentElement};RDSmoothScroll.Animator.prototype.update=function(a){var e=b.RDSmoothScroll.instance;a=a.detail?-1*a.detail:a.wheelDelta/40;var c=0>a?-1:1;c!=this.direction&&(this.speed=0,this.direction=c);this.currentY=-this.originalTarget.scrollTop;this.delta=a;this.targetY+=a;this.speed+=(this.targetY-this.lastY)*e.options.step;this.lastY=this.targetY;this.start()};RDSmoothScroll.Animator.prototype.start=function(){this.isPlaying||(this.isPlaying=!0,b.jQuery&&
b.jQuery(this.originalTarget).stop(),this.play())};RDSmoothScroll.Animator.prototype.play=function(){var a=this;this.isPlaying&&(requestAnimFrame(function(){a.play()}),this.render())};RDSmoothScroll.Animator.prototype.stop=function(){this.isPlaying&&(this.speed=0,this.isPlaying=!1)};RDSmoothScroll.Animator.prototype.render=function(){var a=b.RDSmoothScroll.instance;Math.abs(this.originalTarget.scrollTop- -this.currentY)>Math.abs(this.delta)&&1<Math.abs(this.originalTarget.scrollTop- -this.currentY)&&
this.stop();this.speed<-a.options.minDistance||this.speed>a.options.minDistance?(this.currentY+=this.speed,this.currentY>this.minY?this.currentY=this.speed=0:this.currentY<this.maxY&&(this.speed=0,this.currentY=this.maxY),this.originalTarget.scrollTop=-this.currentY,this.speed*=a.options.friction):this.stop()};RDSmoothScroll.prototype.initialize=function(){b.addEventListener("mousewheel",this.onWheel);b.addEventListener("DOMMouseScroll",this.onWheel)};RDSmoothScroll.prototype.onWheel=function(a){if(!a.ctrlKey){var e=
b.RDSmoothScroll.instance,c;a.preventDefault();for(c=a.target;null!==c&&"html"!=c.nodeName.toLocaleLowerCase()&&!(("auto"==b.getComputedStyle(c).getPropertyValue("overflow")||"scroll"==b.getComputedStyle(c).getPropertyValue("overflow"))&&c.scrollHeight>c.clientHeight&&0<c.clientHeight);)c=c.parentNode;if(null!=c){c=e.isAnimator(c)?e.getAnimator(c):e.createAnimator(c);for(var d in e.animators)e.animators[d]!==c&&e.animators[d].stop&&e.animators[d].stop();c.update(a)}}};RDSmoothScroll.prototype.createAnimator=
function(a){return this.animators[this.animators.push(new RDSmoothScroll.Animator(a))-1]};RDSmoothScroll.prototype.isAnimator=function(a){for(var b in this.animators)if(this.animators[b].target===a)return!0;return!1};RDSmoothScroll.prototype.getAnimator=function(a){for(var b in this.animators)if(this.animators[b].target===a)return this.animators[b];return f};g||(b.RDSmoothScroll.instance=new RDSmoothScroll)})(window,document);
